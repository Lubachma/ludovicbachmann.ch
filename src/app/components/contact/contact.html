<section id="contact" class="section contact">
  <div class="container">
    <h2 class="contact__heading">Contact</h2>
    <p class="contact__subtitle">
      Un projet en tête ? N'hésitez pas à me contacter.
    </p>

    <form class="contact__form" (ngSubmit)="onSubmit()" #contactForm="ngForm">
      <div class="contact__field">
        <label for="name">Nom</label>
        <input
          id="name"
          type="text"
          [(ngModel)]="form.name"
          name="name"
          required
          placeholder="Votre nom"
        />
      </div>

      <div class="contact__field">
        <label for="email">Email</label>
        <input
          id="email"
          type="email"
          [(ngModel)]="form.email"
          name="email"
          required
          placeholder="votre.email@exemple.com"
        />
      </div>

      <div class="contact__field">
        <label for="message">Message</label>
        <textarea
          id="message"
          [(ngModel)]="form.message"
          name="message"
          required
          rows="5"
          placeholder="Votre message..."
        ></textarea>
      </div>

      <button
        type="submit"
        class="contact__submit"
        [disabled]="!contactForm.valid || status() === 'sending'"
      >
        @switch (status()) {
          @case ('sending') { Envoi en cours... }
          @case ('success') { Message envoyé ! }
          @case ('error') { Erreur, réessayer }
          @default { Envoyer }
        }
      </button>
    </form>
  </div>
</section>
